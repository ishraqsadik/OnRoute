"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   isAuthenticated: () => (/* binding */ isAuthenticated),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   signup: () => (/* binding */ signup)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/./node_modules/axios/lib/axios.js\");\n\n// Create API client with proper error handling\nconst api = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: \"http://localhost:3001/api\" || 0,\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    timeout: 10000\n});\n// Add a request interceptor to include the auth token in requests\napi.interceptors.request.use((config)=>{\n    if (true) {\n        const token = localStorage.getItem('auth_token');\n        if (token) {\n            config.headers.Authorization = \"Bearer \".concat(token);\n        }\n    }\n    return config;\n}, (error)=>Promise.reject(error));\n// Handle authentication errors consistently\napi.interceptors.response.use((response)=>response, (error)=>{\n    // Add more detailed error information for auth errors\n    if (error.response) {\n        var _error_response_data;\n        if (error.response.status === 401) {\n            // Clear tokens on auth failure\n            if (true) {\n                localStorage.removeItem('auth_token');\n            }\n            // Add a user-friendly message\n            error.userMessage = 'Your session has expired. Please login again.';\n        }\n        if (error.response.status === 400 && ((_error_response_data = error.response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message)) {\n            // Pass along the server message\n            error.userMessage = error.response.data.message;\n        }\n    }\n    return Promise.reject(error);\n});\nconst login = async (email, password)=>{\n    try {\n        const response = await api.post('/auth/login', {\n            email,\n            password\n        });\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        // Log for debugging\n        console.error('Login error details:', error);\n        // Create mock response for development\n        if ( true && !api.defaults.baseURL) {\n            console.warn('Using mock login response in development');\n            // In development, simulate a successful login\n            return {\n                token: 'mock-jwt-token',\n                user: {\n                    id: '123',\n                    name: 'Test User',\n                    email: email\n                }\n            };\n        }\n        // Throw a more detailed error\n        const errorMessage = error.userMessage || ((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || error.message || 'Login failed';\n        const errorObj = new Error(errorMessage);\n        errorObj.response = error.response;\n        errorObj.request = error.request;\n        throw errorObj;\n    }\n};\nconst signup = async (name, email, password)=>{\n    try {\n        const response = await api.post('/auth/signup', {\n            name,\n            email,\n            password\n        });\n        return response.data;\n    } catch (error) {\n        var _error_response, _error_response_data, _error_response1;\n        // Log for debugging\n        console.error('Signup error details:', error);\n        // Create mock response for development\n        if ( true && !api.defaults.baseURL) {\n            console.warn('Using mock signup response in development');\n            // In development, simulate a successful signup\n            return {\n                token: 'mock-jwt-token',\n                user: {\n                    id: '123',\n                    name: name,\n                    email: email\n                }\n            };\n        }\n        // Check for email already exists error\n        if (((_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status) === 400 && error.response.data.message.includes('already exists')) {\n            const errorObj = new Error('This email is already registered');\n            errorObj.response = error.response;\n            errorObj.request = error.request;\n            throw errorObj;\n        }\n        // Throw a more detailed error\n        const errorMessage = error.userMessage || ((_error_response1 = error.response) === null || _error_response1 === void 0 ? void 0 : (_error_response_data = _error_response1.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || error.message || 'Signup failed';\n        const errorObj = new Error(errorMessage);\n        errorObj.response = error.response;\n        errorObj.request = error.request;\n        throw errorObj;\n    }\n};\nconst logout = ()=>{\n    if (true) {\n        localStorage.removeItem('auth_token');\n    }\n};\nconst getCurrentUser = async ()=>{\n    try {\n        const response = await api.get('/auth/me');\n        return response.data;\n    } catch (error) {\n        console.error('Get current user error:', error);\n        // Create mock response for development\n        if ( true && !api.defaults.baseURL) {\n            const userData =  true ? JSON.parse(localStorage.getItem('user_preferences') || '{}') : 0;\n            // In development, simulate a successful user fetch\n            return {\n                id: '123',\n                name: userData.name || 'Test User',\n                email: userData.email || 'test@example.com',\n                preferences: userData.foodPreferences || []\n            };\n        }\n        return null;\n    }\n};\n// Check if the user is authenticated\nconst isAuthenticated = ()=>{\n    if (false) {}\n    return !!localStorage.getItem('auth_token');\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9hdXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwQjtBQUUxQiwrQ0FBK0M7QUFDL0MsTUFBTUMsTUFBTUQsNkNBQUtBLENBQUNFLE1BQU0sQ0FBQztJQUN2QkMsU0FBU0MsMkJBQStCLElBQUksQ0FBMkI7SUFDdkVHLFNBQVM7UUFDUCxnQkFBZ0I7SUFDbEI7SUFDQUMsU0FBUztBQUNYO0FBRUEsa0VBQWtFO0FBQ2xFUCxJQUFJUSxZQUFZLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUMxQixDQUFDQztJQUNDLElBQUksSUFBNkIsRUFBRTtRQUNqQyxNQUFNQyxRQUFRQyxhQUFhQyxPQUFPLENBQUM7UUFDbkMsSUFBSUYsT0FBTztZQUNURCxPQUFPTCxPQUFPLENBQUNTLGFBQWEsR0FBRyxVQUFnQixPQUFOSDtRQUMzQztJQUNGO0lBQ0EsT0FBT0Q7QUFDVCxHQUNBLENBQUNLLFFBQVVDLFFBQVFDLE1BQU0sQ0FBQ0Y7QUFHNUIsNENBQTRDO0FBQzVDaEIsSUFBSVEsWUFBWSxDQUFDVyxRQUFRLENBQUNULEdBQUcsQ0FDM0IsQ0FBQ1MsV0FBYUEsVUFDZCxDQUFDSDtJQUNDLHNEQUFzRDtJQUN0RCxJQUFJQSxNQUFNRyxRQUFRLEVBQUU7WUFXbUJIO1FBVnJDLElBQUlBLE1BQU1HLFFBQVEsQ0FBQ0MsTUFBTSxLQUFLLEtBQUs7WUFDakMsK0JBQStCO1lBQy9CLElBQUksSUFBNkIsRUFBRTtnQkFDakNQLGFBQWFRLFVBQVUsQ0FBQztZQUMxQjtZQUVBLDhCQUE4QjtZQUM5QkwsTUFBTU0sV0FBVyxHQUFHO1FBQ3RCO1FBRUEsSUFBSU4sTUFBTUcsUUFBUSxDQUFDQyxNQUFNLEtBQUssU0FBT0osdUJBQUFBLE1BQU1HLFFBQVEsQ0FBQ0ksSUFBSSxjQUFuQlAsMkNBQUFBLHFCQUFxQlEsT0FBTyxHQUFFO1lBQ2pFLGdDQUFnQztZQUNoQ1IsTUFBTU0sV0FBVyxHQUFHTixNQUFNRyxRQUFRLENBQUNJLElBQUksQ0FBQ0MsT0FBTztRQUNqRDtJQUNGO0lBRUEsT0FBT1AsUUFBUUMsTUFBTSxDQUFDRjtBQUN4QjtBQUdLLE1BQU1TLFFBQVEsT0FBT0MsT0FBT0M7SUFDakMsSUFBSTtRQUNGLE1BQU1SLFdBQVcsTUFBTW5CLElBQUk0QixJQUFJLENBQUMsZUFBZTtZQUFFRjtZQUFPQztRQUFTO1FBQ2pFLE9BQU9SLFNBQVNJLElBQUk7SUFDdEIsRUFBRSxPQUFPUCxPQUFPO1lBbUI0QkEsc0JBQUFBO1FBbEIxQyxvQkFBb0I7UUFDcEJhLFFBQVFiLEtBQUssQ0FBQyx3QkFBd0JBO1FBRXRDLHVDQUF1QztRQUN2QyxJQUFJYixLQUFzQyxJQUFJLENBQUNILElBQUk4QixRQUFRLENBQUM1QixPQUFPLEVBQUU7WUFDbkUyQixRQUFRRSxJQUFJLENBQUM7WUFDYiw4Q0FBOEM7WUFDOUMsT0FBTztnQkFDTG5CLE9BQU87Z0JBQ1BvQixNQUFNO29CQUNKQyxJQUFJO29CQUNKQyxNQUFNO29CQUNOUixPQUFPQTtnQkFDVDtZQUNGO1FBQ0Y7UUFFQSw4QkFBOEI7UUFDOUIsTUFBTVMsZUFBZW5CLE1BQU1NLFdBQVcsTUFBSU4sa0JBQUFBLE1BQU1HLFFBQVEsY0FBZEgsdUNBQUFBLHVCQUFBQSxnQkFBZ0JPLElBQUksY0FBcEJQLDJDQUFBQSxxQkFBc0JRLE9BQU8sS0FBSVIsTUFBTVEsT0FBTyxJQUFJO1FBQzVGLE1BQU1ZLFdBQVcsSUFBSUMsTUFBTUY7UUFDM0JDLFNBQVNqQixRQUFRLEdBQUdILE1BQU1HLFFBQVE7UUFDbENpQixTQUFTM0IsT0FBTyxHQUFHTyxNQUFNUCxPQUFPO1FBQ2hDLE1BQU0yQjtJQUNSO0FBQ0YsRUFBRTtBQUVLLE1BQU1FLFNBQVMsT0FBT0osTUFBTVIsT0FBT0M7SUFDeEMsSUFBSTtRQUNGLE1BQU1SLFdBQVcsTUFBTW5CLElBQUk0QixJQUFJLENBQUMsZ0JBQWdCO1lBQUVNO1lBQU1SO1lBQU9DO1FBQVM7UUFDeEUsT0FBT1IsU0FBU0ksSUFBSTtJQUN0QixFQUFFLE9BQU9QLE9BQU87WUFtQlZBLGlCQVNzQ0Esc0JBQUFBO1FBM0IxQyxvQkFBb0I7UUFDcEJhLFFBQVFiLEtBQUssQ0FBQyx5QkFBeUJBO1FBRXZDLHVDQUF1QztRQUN2QyxJQUFJYixLQUFzQyxJQUFJLENBQUNILElBQUk4QixRQUFRLENBQUM1QixPQUFPLEVBQUU7WUFDbkUyQixRQUFRRSxJQUFJLENBQUM7WUFDYiwrQ0FBK0M7WUFDL0MsT0FBTztnQkFDTG5CLE9BQU87Z0JBQ1BvQixNQUFNO29CQUNKQyxJQUFJO29CQUNKQyxNQUFNQTtvQkFDTlIsT0FBT0E7Z0JBQ1Q7WUFDRjtRQUNGO1FBRUEsdUNBQXVDO1FBQ3ZDLElBQUlWLEVBQUFBLGtCQUFBQSxNQUFNRyxRQUFRLGNBQWRILHNDQUFBQSxnQkFBZ0JJLE1BQU0sTUFBSyxPQUMzQkosTUFBTUcsUUFBUSxDQUFDSSxJQUFJLENBQUNDLE9BQU8sQ0FBQ2UsUUFBUSxDQUFDLG1CQUFtQjtZQUMxRCxNQUFNSCxXQUFXLElBQUlDLE1BQU07WUFDM0JELFNBQVNqQixRQUFRLEdBQUdILE1BQU1HLFFBQVE7WUFDbENpQixTQUFTM0IsT0FBTyxHQUFHTyxNQUFNUCxPQUFPO1lBQ2hDLE1BQU0yQjtRQUNSO1FBRUEsOEJBQThCO1FBQzlCLE1BQU1ELGVBQWVuQixNQUFNTSxXQUFXLE1BQUlOLG1CQUFBQSxNQUFNRyxRQUFRLGNBQWRILHdDQUFBQSx1QkFBQUEsaUJBQWdCTyxJQUFJLGNBQXBCUCwyQ0FBQUEscUJBQXNCUSxPQUFPLEtBQUlSLE1BQU1RLE9BQU8sSUFBSTtRQUM1RixNQUFNWSxXQUFXLElBQUlDLE1BQU1GO1FBQzNCQyxTQUFTakIsUUFBUSxHQUFHSCxNQUFNRyxRQUFRO1FBQ2xDaUIsU0FBUzNCLE9BQU8sR0FBR08sTUFBTVAsT0FBTztRQUNoQyxNQUFNMkI7SUFDUjtBQUNGLEVBQUU7QUFFSyxNQUFNSSxTQUFTO0lBQ3BCLElBQUksSUFBNkIsRUFBRTtRQUNqQzNCLGFBQWFRLFVBQVUsQ0FBQztJQUMxQjtBQUNGLEVBQUU7QUFFSyxNQUFNb0IsaUJBQWlCO0lBQzVCLElBQUk7UUFDRixNQUFNdEIsV0FBVyxNQUFNbkIsSUFBSTBDLEdBQUcsQ0FBQztRQUMvQixPQUFPdkIsU0FBU0ksSUFBSTtJQUN0QixFQUFFLE9BQU9QLE9BQU87UUFDZGEsUUFBUWIsS0FBSyxDQUFDLDJCQUEyQkE7UUFFekMsdUNBQXVDO1FBQ3ZDLElBQUliLEtBQXNDLElBQUksQ0FBQ0gsSUFBSThCLFFBQVEsQ0FBQzVCLE9BQU8sRUFBRTtZQUNuRSxNQUFNeUMsV0FBVyxLQUE2QixHQUM1Q0MsS0FBS0MsS0FBSyxDQUFDaEMsYUFBYUMsT0FBTyxDQUFDLHVCQUF1QixRQUFRLENBQUU7WUFFbkUsbURBQW1EO1lBQ25ELE9BQU87Z0JBQ0xtQixJQUFJO2dCQUNKQyxNQUFNUyxTQUFTVCxJQUFJLElBQUk7Z0JBQ3ZCUixPQUFPaUIsU0FBU2pCLEtBQUssSUFBSTtnQkFDekJvQixhQUFhSCxTQUFTSSxlQUFlLElBQUksRUFBRTtZQUM3QztRQUNGO1FBRUEsT0FBTztJQUNUO0FBQ0YsRUFBRTtBQUVGLHFDQUFxQztBQUM5QixNQUFNQyxrQkFBa0I7SUFDN0IsSUFBSSxLQUE2QixFQUFFLEVBQWE7SUFDaEQsT0FBTyxDQUFDLENBQUNuQyxhQUFhQyxPQUFPLENBQUM7QUFDaEMsRUFBRSIsInNvdXJjZXMiOlsiRDpcXFN0dWRpZXNcXENvZGluZ1xcT25Sb3V0ZVxcYWktcm9hZHRyaXAtZnJvbnRlbmRcXGxpYlxcYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuLy8gQ3JlYXRlIEFQSSBjbGllbnQgd2l0aCBwcm9wZXIgZXJyb3IgaGFuZGxpbmdcclxuY29uc3QgYXBpID0gYXhpb3MuY3JlYXRlKHtcclxuICBiYXNlVVJMOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDEvYXBpJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gIH0sXHJcbiAgdGltZW91dDogMTAwMDAsIC8vIDEwIHNlY29uZCB0aW1lb3V0XHJcbn0pO1xyXG5cclxuLy8gQWRkIGEgcmVxdWVzdCBpbnRlcmNlcHRvciB0byBpbmNsdWRlIHRoZSBhdXRoIHRva2VuIGluIHJlcXVlc3RzXHJcbmFwaS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoXHJcbiAgKGNvbmZpZykgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7IC8vIENoZWNrIGlmIHJ1bm5pbmcgb24gY2xpZW50IHNpZGVcclxuICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpO1xyXG4gICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfSxcclxuICAoZXJyb3IpID0+IFByb21pc2UucmVqZWN0KGVycm9yKVxyXG4pO1xyXG5cclxuLy8gSGFuZGxlIGF1dGhlbnRpY2F0aW9uIGVycm9ycyBjb25zaXN0ZW50bHlcclxuYXBpLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXHJcbiAgKHJlc3BvbnNlKSA9PiByZXNwb25zZSxcclxuICAoZXJyb3IpID0+IHtcclxuICAgIC8vIEFkZCBtb3JlIGRldGFpbGVkIGVycm9yIGluZm9ybWF0aW9uIGZvciBhdXRoIGVycm9yc1xyXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XHJcbiAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xyXG4gICAgICAgIC8vIENsZWFyIHRva2VucyBvbiBhdXRoIGZhaWx1cmVcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoX3Rva2VuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCBhIHVzZXItZnJpZW5kbHkgbWVzc2FnZVxyXG4gICAgICAgIGVycm9yLnVzZXJNZXNzYWdlID0gJ1lvdXIgc2Vzc2lvbiBoYXMgZXhwaXJlZC4gUGxlYXNlIGxvZ2luIGFnYWluLic7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMCAmJiBlcnJvci5yZXNwb25zZS5kYXRhPy5tZXNzYWdlKSB7XHJcbiAgICAgICAgLy8gUGFzcyBhbG9uZyB0aGUgc2VydmVyIG1lc3NhZ2VcclxuICAgICAgICBlcnJvci51c2VyTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gIH1cclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCBsb2dpbiA9IGFzeW5jIChlbWFpbCwgcGFzc3dvcmQpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucG9zdCgnL2F1dGgvbG9naW4nLCB7IGVtYWlsLCBwYXNzd29yZCB9KTtcclxuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAvLyBMb2cgZm9yIGRlYnVnZ2luZ1xyXG4gICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3IgZGV0YWlsczonLCBlcnJvcik7XHJcbiAgICBcclxuICAgIC8vIENyZWF0ZSBtb2NrIHJlc3BvbnNlIGZvciBkZXZlbG9wbWVudFxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmICFhcGkuZGVmYXVsdHMuYmFzZVVSTCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1VzaW5nIG1vY2sgbG9naW4gcmVzcG9uc2UgaW4gZGV2ZWxvcG1lbnQnKTtcclxuICAgICAgLy8gSW4gZGV2ZWxvcG1lbnQsIHNpbXVsYXRlIGEgc3VjY2Vzc2Z1bCBsb2dpblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRva2VuOiAnbW9jay1qd3QtdG9rZW4nLFxyXG4gICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgIGlkOiAnMTIzJyxcclxuICAgICAgICAgIG5hbWU6ICdUZXN0IFVzZXInLFxyXG4gICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVGhyb3cgYSBtb3JlIGRldGFpbGVkIGVycm9yXHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci51c2VyTWVzc2FnZSB8fCBlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIHx8ICdMb2dpbiBmYWlsZWQnO1xyXG4gICAgY29uc3QgZXJyb3JPYmogPSBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgIGVycm9yT2JqLnJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2U7XHJcbiAgICBlcnJvck9iai5yZXF1ZXN0ID0gZXJyb3IucmVxdWVzdDtcclxuICAgIHRocm93IGVycm9yT2JqO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzaWdudXAgPSBhc3luYyAobmFtZSwgZW1haWwsIHBhc3N3b3JkKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLnBvc3QoJy9hdXRoL3NpZ251cCcsIHsgbmFtZSwgZW1haWwsIHBhc3N3b3JkIH0pO1xyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vIExvZyBmb3IgZGVidWdnaW5nXHJcbiAgICBjb25zb2xlLmVycm9yKCdTaWdudXAgZXJyb3IgZGV0YWlsczonLCBlcnJvcik7XHJcbiAgICBcclxuICAgIC8vIENyZWF0ZSBtb2NrIHJlc3BvbnNlIGZvciBkZXZlbG9wbWVudFxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmICFhcGkuZGVmYXVsdHMuYmFzZVVSTCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1VzaW5nIG1vY2sgc2lnbnVwIHJlc3BvbnNlIGluIGRldmVsb3BtZW50Jyk7XHJcbiAgICAgIC8vIEluIGRldmVsb3BtZW50LCBzaW11bGF0ZSBhIHN1Y2Nlc3NmdWwgc2lnbnVwXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdG9rZW46ICdtb2NrLWp3dC10b2tlbicsXHJcbiAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgaWQ6ICcxMjMnLFxyXG4gICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENoZWNrIGZvciBlbWFpbCBhbHJlYWR5IGV4aXN0cyBlcnJvclxyXG4gICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMCAmJiBcclxuICAgICAgICBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UuaW5jbHVkZXMoJ2FscmVhZHkgZXhpc3RzJykpIHtcclxuICAgICAgY29uc3QgZXJyb3JPYmogPSBuZXcgRXJyb3IoJ1RoaXMgZW1haWwgaXMgYWxyZWFkeSByZWdpc3RlcmVkJyk7XHJcbiAgICAgIGVycm9yT2JqLnJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2U7XHJcbiAgICAgIGVycm9yT2JqLnJlcXVlc3QgPSBlcnJvci5yZXF1ZXN0O1xyXG4gICAgICB0aHJvdyBlcnJvck9iajtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVGhyb3cgYSBtb3JlIGRldGFpbGVkIGVycm9yXHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci51c2VyTWVzc2FnZSB8fCBlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIHx8ICdTaWdudXAgZmFpbGVkJztcclxuICAgIGNvbnN0IGVycm9yT2JqID0gbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XHJcbiAgICBlcnJvck9iai5yZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlO1xyXG4gICAgZXJyb3JPYmoucmVxdWVzdCA9IGVycm9yLnJlcXVlc3Q7XHJcbiAgICB0aHJvdyBlcnJvck9iajtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbG9nb3V0ID0gKCkgPT4ge1xyXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhfdG9rZW4nKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldCgnL2F1dGgvbWUnKTtcclxuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdHZXQgY3VycmVudCB1c2VyIGVycm9yOicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgLy8gQ3JlYXRlIG1vY2sgcmVzcG9uc2UgZm9yIGRldmVsb3BtZW50XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgIWFwaS5kZWZhdWx0cy5iYXNlVVJMKSB7XHJcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBcclxuICAgICAgICBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX3ByZWZlcmVuY2VzJykgfHwgJ3t9JykgOiB7fTtcclxuICAgICAgXHJcbiAgICAgIC8vIEluIGRldmVsb3BtZW50LCBzaW11bGF0ZSBhIHN1Y2Nlc3NmdWwgdXNlciBmZXRjaFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiAnMTIzJyxcclxuICAgICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lIHx8ICdUZXN0IFVzZXInLFxyXG4gICAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCB8fCAndGVzdEBleGFtcGxlLmNvbScsXHJcbiAgICAgICAgcHJlZmVyZW5jZXM6IHVzZXJEYXRhLmZvb2RQcmVmZXJlbmNlcyB8fCBbXVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG4vLyBDaGVjayBpZiB0aGUgdXNlciBpcyBhdXRoZW50aWNhdGVkXHJcbmV4cG9ydCBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSAoKSA9PiB7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XHJcbiAgcmV0dXJuICEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKTtcclxufTsgIl0sIm5hbWVzIjpbImF4aW9zIiwiYXBpIiwiY3JlYXRlIiwiYmFzZVVSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiaGVhZGVycyIsInRpbWVvdXQiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwiY29uZmlnIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiQXV0aG9yaXphdGlvbiIsImVycm9yIiwiUHJvbWlzZSIsInJlamVjdCIsInJlc3BvbnNlIiwic3RhdHVzIiwicmVtb3ZlSXRlbSIsInVzZXJNZXNzYWdlIiwiZGF0YSIsIm1lc3NhZ2UiLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJwb3N0IiwiY29uc29sZSIsImRlZmF1bHRzIiwid2FybiIsInVzZXIiLCJpZCIsIm5hbWUiLCJlcnJvck1lc3NhZ2UiLCJlcnJvck9iaiIsIkVycm9yIiwic2lnbnVwIiwiaW5jbHVkZXMiLCJsb2dvdXQiLCJnZXRDdXJyZW50VXNlciIsImdldCIsInVzZXJEYXRhIiwiSlNPTiIsInBhcnNlIiwicHJlZmVyZW5jZXMiLCJmb29kUHJlZmVyZW5jZXMiLCJpc0F1dGhlbnRpY2F0ZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/auth.js\n"));

/***/ })

});